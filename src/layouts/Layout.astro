---
import Header from "../components/Header.astro";
import SVGDOCU from "../components/SVGDOCU.astro";
import Cube from "../components/Cube.astro";
import Bubbles from "../components/Bubbles.astro";
import Content from "../components/Content.astro";
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
	</head>
	<body
		class="bg-gray-900 text-white select-none scroll-smooth"
		x-data="{dive1:false}"
	>

		<div
			class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 w-80 text-center transition-all duration-1000  "
			:class="{'animate-pulse':!dive1}"
		>
			<span x-show="!dive1">WELCOME TO</span>
			<div
				class="border-2  rounded-3xl px-2 py-2 "
			>
				<div
				 	x-show="!dive1"
					:class="{'opacity-0': dive1}"
					class=" font-bold text-5xl  "
					@click="smoothScroll('#section1',2000); dive1 = true;"
				>
					-{"<"}.VitC.{">"}-
				</div>
				<div
					x-cloak
					:class="{'hidden': !dive1}"
				>
					CONTENT
					<!-- <Content></Content> -->
				</div>
			</div>
		</div>
			<!-- .welcome-box {
				user-select:none;
				font: 700 60px consolas;
				color:aliceblue;
				border-radius: 5px;
				z-index:1;
			}
			 -->
			<!-- <div
				class=" font-bold text-5xl  border-2  rounded-3xl px-2 py-2 "
				@click="show = !show"
			>
					-{"<"}.VitC.{">"}-
			</div> -->
		<div
			class="ocean-container relative linear-gradient-to-b from-blue-500 to-blue-800 overflow-hidden"
		>
			<div class="liquid"></div>
			<div style="height: 200vh;"></div>
			<Bubbles></Bubbles>
			<!-- style="  color:white;  z-index:2;  display: grid; place-items:center;   "  -->
			<secton id="section1" >
				<Content ></Content>
			</section>

			<Bubbles></Bubbles>
			<button style="  color:white;  z-index:2; margin-top: 100px; " class="hover-box"><h2>CONTACT US</h2></button>



		</div>
		<!-- <div class="content">

		</div> -->


	</body>
    <script>
        // function smoothScroll(target) {
        //     document.querySelector(target).scrollIntoView({
        //         behavior: 'smooth',
        //         block: 'start'
        //     });
        // }

        function smoothScroll(target, duration) {
            const targetElement = document.querySelector(target);
            const startPosition = window.pageYOffset; // Current scroll position
            const targetPosition = targetElement.getBoundingClientRect().top + startPosition; // Target position relative to the viewport
            const distance = targetPosition - startPosition; // Total distance to scroll
            let startTime = null;

            function animation(currentTime) {
                if (startTime === null) startTime = currentTime;
                const timeElapsed = currentTime - startTime; // Time elapsed since the animation started
                const run = ease(timeElapsed, startPosition, distance, duration); // Calculate current position
                window.scrollTo(0, run); // Scroll to the calculated position

                console.log(run);

                if (timeElapsed < duration) requestAnimationFrame(animation); // Continue animation until duration is reached
            }

            function ease(t, b, c, d) {
                t /= d / 2;
                if (t < 1) return c / 2 * t * t + b; // Ease in
                t--;
                return -c / 2 * (t * (t - 2) - 1) + b; // Ease out
            }

            requestAnimationFrame(animation); // Start the animation
        }

    </script>
	<style>
		html {
            scroll-behavior: smooth; /* Enables smooth scrolling */
        }
        section {
            height: 100vh; /* Full viewport height for each section */
        }
		[x-cloak] {
			display: none;
		}
		.hidden {
			opacity: 0;
			transition: opacity 1.6s ease, visibility 0s 1s; /* Delay of 1s */
		}

		.content-container{
			height: 100vh;
			width: 100vw;
			position:absolute;
			display: grid;
			place-items: center;
		}



		.ocean-container{
			/* position:relative;
			display: grid;
			place-items: center; */
			background:linear-gradient(to bottom, #7293ff, #0c1121);
			transition: 1.6s;
			top:0;
		}



		.liquid {
			position: absolute;
			width:2200px;
			height: 1200px;
			transition: 1.6s;
			top:-11%;
		}

		.liquid::after,
		.liquid::before {
			position: absolute;
			content: "";
			width: 200%;
			height: 400%;
			transform: translate(-25%, -75%);
		}

		.liquid::after {
			border-radius: 45%;
			background: rgba(20, 20, 20, 1);
			box-shadow: 0 0 10px 5px #7293ff, inset 0 0 5px #7293ff;
			animation: animate 16s linear infinite;
			opacity: 0.8;
		}

		.liquid::before {
			border-radius: 40%;
			box-shadow: 0 0 10px rgba(26, 26, 26, 0.5),
				inset 0 0 5px rgba(26, 26, 26, 0.5);
			background: rgba(26, 26, 26, 0.5);

			animation: animate 16s linear infinite;
		}

		@keyframes animate {
			0% {
				transform: translate(-25%, -75%) rotate(0);
			}
			100% {
				transform: translate(-25%, -75%) rotate(360deg);
			}
		}


		.hover-box {
			padding:0.75rem;
			border-radius: 5px;
            /* background-color: #3498db; */
            background-color: #7293ff;
        }

		.hover-box:hover   {
			box-shadow: 0 0 5px #7293ff, inset 0 0 5px #7293ff;
			transition-delay: 0.1s;
        }

		.content-container:hover {
			/* top:-50%;
			height: 100vh; */
		}

		/* .content-container:hover ~ .container {
			top:-300vh;
		} */

		.dive{
			top:-300vh;
			/* object-position: bottom center; */
		}
	</style>
</html>

